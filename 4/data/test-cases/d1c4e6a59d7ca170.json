{"uid":"d1c4e6a59d7ca170","name":"Test checkout flow for ebay with query 'shoes'","fullName":"tests.test_ecommerce#test_ecommerce_end_to_end","historyId":"a1f27e550a7bf0f3bdeb2b9e33ee25b4","time":{"start":1772175667622,"stop":1772175674713,"duration":7091},"status":"broken","statusMessage":"playwright._impl._errors.Error: Page.wait_for_selector: Target crashed \nCall log:\n  - waiting for locator(\".srp-results .su-card-container__content .s-card__link\")","statusTrace":"page = <Page url='https://www.ebay.com/splashui/challenge?ap=1&appName=orch&ru=https%3A%2F%2Fwww.ebay.com%2Fsch%2Fi.html%3F_n...%3DR40%26_trksid%3Dm570.l1313&iid=8bf1648c-f459-4936-bfe0-67502c0a1d0f&iim=JMTcyLjK&iia=ucIwOC4xIc&iiz=HiwMjcuODE*yID'>\nsite = 'ebay', query = 'shoes', maxPrice = 220, limit = 3\n\n    @allure.feature(\"E-Commerce Checkout Flow\")\n    @pytest.mark.parametrize(\"site, query, maxPrice, limit\", get_test_cases())\n    def test_ecommerce_end_to_end(page, site, query, maxPrice, limit):\n        allure.dynamic.title(f\"Test checkout flow for {site} with query '{query}'\")\n    \n        # 1. Load locators dynamically based on site\n        locators = load_locators(site)\n    \n        # 2. Init Pages\n        home_page = AbstractHomePage(page, locators.get(\"home\", {}))\n        login_page = AbstractLoginPage(page, locators.get(\"login\", {}))\n        search_page = AbstractSearchResultsPage(page, locators.get(\"search\", {}))\n        item_page = AbstractItemPage(page, locators.get(\"item\", {}))\n        cart_page = AbstractCartPage(page, locators.get(\"cart\", {}))\n    \n        # 3. Execution\n        home_page.navigate()\n    \n        # Authentication - Optional Guest mode\n        if USER_EMAIL and USER_PASSWORD:\n            home_page.go_to_login()\n            login_page.login(USER_EMAIL, USER_PASSWORD)\n        else:\n            logger.info(\"No credentials provided. Proceeding as Guest checkout.\")\n    \n        home_page.search(query)\n    \n        # Retrieve items based on constraints\n>       item_urls = search_page.searchItemsByNameUnderPrice(query, maxPrice, limit)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/test_ecommerce.py:62: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/abstract_search_results_page.py:16: in searchItemsByNameUnderPrice\n    return self._collect_item_urls(limit)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npages/abstract_search_results_page.py:80: in _collect_item_urls\n    self.page.wait_for_selector(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/sync_api/_generated.py:8217: in wait_for_selector\n    self._sync(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_page.py:419: in wait_for_selector\n    return await self._main_frame.wait_for_selector(**locals_to_params(locals()))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_frame.py:369: in wait_for_selector\n    await self._channel.send(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7f25ea34a090>\ncb = <function Channel.send.<locals>.<lambda> at 0x7f25e8f35440>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.Error: Page.wait_for_selector: Target crashed \nE           Call log:\nE             - waiting for locator(\".srp-results .su-card-container__content .s-card__link\")\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_connection.py:559: Error","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1772175665530,"stop":1772175665530,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1772175665530,"stop":1772175665530,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1772175665531,"stop":1772175665924,"duration":393},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1772175665531,"stop":1772175665531,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1772175665531,"stop":1772175665531,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1772175665924,"stop":1772175667579,"duration":1655},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1772175667579,"stop":1772175667588,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1772175667588,"stop":1772175667621,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"playwright._impl._errors.Error: Page.wait_for_selector: Target crashed \nCall log:\n  - waiting for locator(\".srp-results .su-card-container__content .s-card__link\")","statusTrace":"page = <Page url='https://www.ebay.com/splashui/challenge?ap=1&appName=orch&ru=https%3A%2F%2Fwww.ebay.com%2Fsch%2Fi.html%3F_n...%3DR40%26_trksid%3Dm570.l1313&iid=8bf1648c-f459-4936-bfe0-67502c0a1d0f&iim=JMTcyLjK&iia=ucIwOC4xIc&iiz=HiwMjcuODE*yID'>\nsite = 'ebay', query = 'shoes', maxPrice = 220, limit = 3\n\n    @allure.feature(\"E-Commerce Checkout Flow\")\n    @pytest.mark.parametrize(\"site, query, maxPrice, limit\", get_test_cases())\n    def test_ecommerce_end_to_end(page, site, query, maxPrice, limit):\n        allure.dynamic.title(f\"Test checkout flow for {site} with query '{query}'\")\n    \n        # 1. Load locators dynamically based on site\n        locators = load_locators(site)\n    \n        # 2. Init Pages\n        home_page = AbstractHomePage(page, locators.get(\"home\", {}))\n        login_page = AbstractLoginPage(page, locators.get(\"login\", {}))\n        search_page = AbstractSearchResultsPage(page, locators.get(\"search\", {}))\n        item_page = AbstractItemPage(page, locators.get(\"item\", {}))\n        cart_page = AbstractCartPage(page, locators.get(\"cart\", {}))\n    \n        # 3. Execution\n        home_page.navigate()\n    \n        # Authentication - Optional Guest mode\n        if USER_EMAIL and USER_PASSWORD:\n            home_page.go_to_login()\n            login_page.login(USER_EMAIL, USER_PASSWORD)\n        else:\n            logger.info(\"No credentials provided. Proceeding as Guest checkout.\")\n    \n        home_page.search(query)\n    \n        # Retrieve items based on constraints\n>       item_urls = search_page.searchItemsByNameUnderPrice(query, maxPrice, limit)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/test_ecommerce.py:62: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/abstract_search_results_page.py:16: in searchItemsByNameUnderPrice\n    return self._collect_item_urls(limit)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npages/abstract_search_results_page.py:80: in _collect_item_urls\n    self.page.wait_for_selector(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/sync_api/_generated.py:8217: in wait_for_selector\n    self._sync(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_page.py:419: in wait_for_selector\n    return await self._main_frame.wait_for_selector(**locals_to_params(locals()))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_frame.py:369: in wait_for_selector\n    await self._channel.send(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7f25ea34a090>\ncb = <function Channel.send.<locals>.<lambda> at 0x7f25e8f35440>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.Error: Page.wait_for_selector: Target crashed \nE           Call log:\nE             - waiting for locator(\".srp-results .su-card-container__content .s-card__link\")\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_connection.py:559: Error","steps":[{"name":"Navigate to https://www.ebay.com","time":{"start":1772175667622,"stop":1772175668904,"duration":1282},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Attempting 'fill ('shoes')' with locator: .gh-search-input__wrap input","time":{"start":1772175668904,"stop":1772175668965,"duration":61},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Attempting 'click' with locator: .gh-search-button__wrap button","time":{"start":1772175668965,"stop":1772175669624,"duration":659},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Apply max price filter (220)","time":{"start":1772175669702,"stop":1772175674708,"duration":5006},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Extracting up to 3 item URLs","time":{"start":1772175674710,"stop":1772175674712,"duration":2},"status":"broken","statusMessage":"playwright._impl._errors.Error: Page.wait_for_selector: Target crashed \nCall log:\n  - waiting for locator(\".srp-results .su-card-container__content .s-card__link\")\n\n","statusTrace":"  File \"/home/runner/work/Ness_Python_Playwright_MosheBar-/Ness_Python_Playwright_MosheBar-/pages/abstract_search_results_page.py\", line 80, in _collect_item_urls\n    self.page.wait_for_selector(\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/sync_api/_generated.py\", line 8217, in wait_for_selector\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_page.py\", line 419, in wait_for_selector\n    return await self._main_frame.wait_for_selector(**locals_to_params(locals()))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_frame.py\", line 369, in wait_for_selector\n    await self._channel.send(\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_connection.py\", line 559, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"2dc3f009bedae7fd","name":"log","source":"2dc3f009bedae7fd.txt","type":"text/plain","size":1055},{"uid":"2cad685964c03bad","name":"stderr","source":"2cad685964c03bad.txt","type":"text/plain","size":1092}],"parameters":[],"stepsCount":5,"shouldDisplayMessage":true,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"context::0","time":{"start":1772175674880,"stop":1772175674886,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1772175674887,"stop":1772175674912,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1772175674912,"stop":1772175674923,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"E-Commerce Checkout Flow"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_ecommerce"},{"name":"host","value":"runnervmnay03"},{"name":"thread","value":"3392-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_ecommerce"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"limit","value":"3"},{"name":"maxPrice","value":"220"},{"name":"query","value":"'shoes'"},{"name":"site","value":"'ebay'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"d1c4e6a59d7ca170.json","parameterValues":["3","220","'shoes'","'ebay'"]}